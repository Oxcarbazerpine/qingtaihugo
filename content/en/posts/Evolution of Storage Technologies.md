---
date: 2024-06-01
draft: false
tags: ["Hardware"]
title: 存储技术
---

Simulated Signal Magnetic Drum
* The cylindrical drum itself rotates, with a probe reading the magnetic information on the drum’s surface.
* Capacity is 60KB with read speed of 60KB/s.

Vinyl Record Player
* The record is made of PVC.
* This is an analog signal device. When recording, grooves are etched into concentric circles, and the needle swings left and right, causing the magnet at the other end to also swing. Each swing direction has an inductive coil set up to sense different current in both channels. This sensed current is then amplified and played back.
* The popping sound is caused by the dust on the track disrupting the needle. It can be eliminated with a dust cover or by vacuum processing.
* With analog signals, the amount of information is theoretically infinite.

Magnetic Tape
* A plastic tape coated with iron oxide that can be magnetized.
* Reading and writing is done by a rod wound with a coil; it forms a ring with an opening (gap). This gap is used to magnetize the tape; the narrower the gap, the more information can be stored.
* The rustling sound comes from random electronic signals generated by various particles.
* Can be used for both analog and digital information, sequential read/write, preferred for corporate cold backups for high storage and low cost, at 40 yuan/TB.

Floppy Disk
* The material of the magnetic tape combined with the principle of mechanical hard drives, it has tracks and sectors.
* These disks are easily damaged as the tracks are exposed to air and contact with the shell causes constant friction.
* It has a capacity of 1MB and a read/write speed of 100KB/s.

CD, DVD, and Blu-Ray Discs
* Writing: Like a waterfall on a piano, braille, or Morse code, bumps or grooves of different lengths are burnt into the plastic material.
* Reading: Infrared light is used for scanning. Areas with grooves have a different reflectance rate. The reflective side of the disc is used to increase contrast and improve recognition.
* Blu-ray: Uses shorter-wavelength blue light for reading, allowing for more densely packed data points.
* Single-disc capacity is 100G, with 100MB/s read speed.

Mechanical Hard Disk (HDD)
* Brands: Western Data, Seagate, Toshiba
* Components:

    * Metal outer shell
    * Air vent: The interior is filled with air or helium to accommodate thermal expansion and contraction, and a vent with dustproof measures is left open.
    * The magnetic head floats on the air cushion generated by rotating the disk.
    * Control circuit board: includes the cache RAM, firmware ROM, motor driver, and main control chip.
    * Disk: aluminum alloy / particle-based substrate + magnetic material coating + protective coating.
* MR: Magnetic Resistance

    * Principle: The magnetic field can change the resistance of some materials.
    * Purpose: Increased the sensitivity of the head, significantly increasing the capacity of the disk, from longitudinal magnetic recording (LMR) to perpendicular magnetic recording (PMR).
* Addressing

    * Disk surface
    * Cylinder Track (because the head moves in sync)
    * Track: from the outside in, starting from 0
    * Sector (512B): The outer track has more sectors than the inside one, so it reads and writes faster.
* Formatting

    * Quick formatting: Clearing partition table.
    * Normal formatting: Filling sectors with 0.
    * Low-level formatting: Clearing the disk surface and re-dividing tracks and sectors.
* Storage optimization.

    * Cluster (Win), block Unix: Combining adjacent blocks into the smallest unit, Win-NTFS = 4KB.
    * File size and occupied space: Size is the actual file size, occupied space is the size of cluster. Therefore, occupied space >= file size.
* Speed: Seek time + rotational delay + read/write time.
* Cache: A 64MB memory stick, there’s a difference between IO and disk read time to reduce the difference they set up a cache. It's not the bigger the better (not used, expensive, high risk).

* Testing

    * Software: CrystalDiskMark or AS SSD Benchmark.
    * Parameters:

        * seq: Sequential read/write.
        * RND/4k: Random read/write.
        * Acc. Time: Average access time.
* The speed decreases when the capacity becomes less
    * From the outside of the disk to the inside, the number of sectors passing decreases (secondary).
    * Too many fragments, less contiguous areas available for reading and writing.

Solid State Drive
* ROM: Read-only memory.
* EPROM: Erasable Programable ROM, can be erased by UV light.
* EEPROM: Electric EPROM, can be erased by voltage.
* NAND Flash: NPN+Gate.
* Floating Gate Transistor: The gate is an insulating silicon dioxide that wraps a storage electron made from polycrystalline silicon or other metal.
* Reading

    * Plenty of electrons in the gate: They repel electrons in the empty pits below, expanding the depletion layer, interpreting as reading 0.
    * Few electrons in the gate: The depletion layer can be breached, interpreting as reading 1.
* Writing

    * 0: High voltage is applied to the gate, low voltage to the drain, and source is grounded. High voltage draws electrons from the drain into silicon dioxide (through quantum tunneling).
    * 1: The gate is grounded, while high voltage is applied to the source and drain. Electrons escape from silicon dioxide layer to p-layer through quantum tunneling.
    * Back and forth causes wear and tear to silicon dioxide layer, limiting read/write times.
* The role of the master control

    * Scheduling read/write cache.
    * Load balancing for granule life.
    * ECC detects bit flipping errors and performs recovery; occupies cache, slows down speed.
    * Garbage collection: To reduce wear, empty blocks are used first, and old blocks accumulate before being erased at once.
* SLC MLC TLC QLC

    * The gate stores different amounts of electrons, corresponding to different threshold voltages to conduct.
    * SLC 1bit MLC 2bit TLC 3bit QLC 4bit
    * Advantages: Reduced cost.
    * Disadvantages: More electron states, more refined, higher chance of errors due to electrons escaping, increased voltage steps, more read/write and check times, slower read/write speeds.

Internal Memory
* SRAM Static Random Access Memory

    * Application: CPU cache.
    * Data maintenance does not require electricity.
    * Complex structure, expensive.
* DRAM Dynamic Random Access Memory

    * Application: Main memory.
    * Data stored in capacitor, periodic charge needed to maintain data.
    * Structure: a MOS+ a capacitor.
    * Similar to Floating Gate Transistor, but without Floating Gate to store electrons.
    * Does not need quantum tunneling, faster read/write speed.
    * No damage, almost infinite life.
    * Storage units parallel to address data lines, can read/write at cell level.
    * Row + Column -> Bank -> Die.
* DIMM slots of memory sticks.
* DDR--Double Data Rate
    * Memory stick and CPU clock cycle are synchronized.
    * Data is sent on both uplink and downline of each clock cycle, called double.
    * DDR2 indicates data can be sent to CPU cache per cycle through pre-reading.
        * DDR2 pre-reads 4 bit；DDR3--8 bit.